<!DOCTYPE html>
<html>
<head>
<title>Space Remover - Omnitools</title>
<link href="https://nimityx.github.io/omnitools/style.css" type="text/css" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1" />
</head>
<body class="bgcolor">
  <center class="bgcolor">
    <h2>Space Remover</h2>
    <div class="maxwidth">
    	<div class="form">
        	<form id="space_remover">
        	<label for="textinput" class="label">Text Input:</label>
            <textarea id="textinput" name="textinput" placeholder="Input Text"></textarea>
            <label for="textoutput" class="label">Result:</label>
            <textarea id="textoutput" name="textoutput" placeholder="Result" readonly></textarea>
            <input type="button" id="space" value="Remove Space">
            <label for="switchtoggle">Live Mode: </label>
          	<label class="switchtoggle" id="switchtoggle">
            	<input type="radio" form="space_remover" name="live_mode" id="ispace">
            	<div class="slidertogglerp roundshaped"></div>
          	</label>
            <br><br>
            <input type="button" id="spacelinebreak" value="Remove Space & Line Break">
            <label for="switchtoggle">Live Mode: </label>
          	<label class="switchtoggle" id="switchtoggle">
            	<input type="radio" form="space_remover" name="live_mode" id="ispacelinebreak">
            	<div class="slidertogglerp roundshaped"></div>
          	</label>
            <br><br>
            <input type="button" id="copy" value="Copy Result">
            </form>
        </div>
    </div>
  </center>
  <script>
  	document.querySelector("#space").onclick = function() {
    	document.querySelector("#textoutput").value = document.querySelector("#textinput").value.replace(/ /g,"");
    }
    document.querySelector("#spacelinebreak").onclick = function() {
    	document.querySelector("#textoutput").value = (document.querySelector("#textinput").value.replace(/\n/g,"")).replace(/ /g,"");
    }
    function sliveModeOn() {
      document.querySelector("#textoutput").value = document.querySelector("#textinput").value.replace(/ /g,"");
    	document.querySelector("#textinput").onkeyup = function() {
        	document.querySelector("#textoutput").value = document.querySelector("#textinput").value.replace(/ /g,"");
        }
        document.querySelector("#textinput").onkeydown = function() {
        	document.querySelector("#textoutput").value = document.querySelector("#textinput").value.replace(/ /g,"");
        }
    }
    function slbliveModeOn() {
      document.querySelector("#textoutput").value = (document.querySelector("#textinput").value.replace(/\n/g,"")).replace(/ /g,"");
    	document.querySelector("#textinput").onkeyup = function() {
        	document.querySelector("#textoutput").value = (document.querySelector("#textinput").value.replace(/\n/g,"")).replace(/ /g,"");
        }
        document.querySelector("#textinput").onkeydown = function() {
        	document.querySelector("#textoutput").value = (document.querySelector("#textinput").value.replace(/\n/g,"")).replace(/ /g,"");
        }
    }
    function liveModeOff() {
    	document.querySelector("#textinput").onkeyup = function() {}
        document.querySelector("#textinput").onkeydown = function() {}
    }
    document.addEventListener('DOMContentLoaded', function () {
      var checkbox = document.querySelector('input#ispace');
      checkbox.addEventListener('change', function () {
        if (checkbox.checked) {
          sliveModeOn();
        } else {
          liveModeOff();
        }
      });
    });
    document.addEventListener('DOMContentLoaded', function () {
      var checkbox = document.querySelector('input#ispacelinebreak');
      checkbox.addEventListener('change', function () {
        if (checkbox.checked) {
          slbliveModeOn();
        } else {
          liveModeOff();
        }
      });
    });
    document.querySelector("#copy").onclick = function() {
      	var copyText = document.querySelector("#textoutput");
      	copyText.select();
      	copyText.setSelectionRange(0, copyText.value.length);
      	document.execCommand("copy");
    }
  </script>
</body>
</html>
