<!DOCTYPE html>
<html>
<head>
<title>URL Decoder - Omnitools</title>
<link href="https://nimityx.github.io/omnitools/style.css" type="text/css" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1" />
</head>
<body class="bgcolor">
  <center class="bgcolor">
    <h2>URL Decoder</h2>
    <div class="maxwidth">
    	<div class="form">
        	<label for="urlinput" class="label">URL Input</label>
            <textarea id="urlinput" name="urlinput" placeholder="Input URL to decode"></textarea>
            <br><br>
            <label for="switchtoggle">Live Mode: </label>
          	<label class="switchtoggle" id="switchtoggle">
            	<input type="checkbox">
            	<div class="slidertogglerp roundshaped"></div>
          	</label>
            <br><br>
            <label for="urloutput" class="label">Decoded URL:</label>
            <textarea id="urloutput" name="urloutput" placeholder="Decoded URL" readonly></textarea>
            <input type="button" id="decode" value="Decode">
            <input type="button" id="copy" value="Copy Result">
        </div>
    </div>
  </center>
  <script>
  	document.querySelector("#decode").onclick = function() {
    	document.querySelector("#urloutput").value = decodeURIComponent(document.querySelector("#urlinput").value);
    }
    function liveModeOn() {
      document.querySelector("#urloutput").value = decodeURIComponent(document.querySelector("#urlinput").value);
    	document.querySelector("#urlinput").onkeyup = function() {
        	document.querySelector("#urloutput").value = decodeURIComponent(document.querySelector("#urlinput").value);
        }
        document.querySelector("#urlinput").onkeydown = function() {
        	document.querySelector("#urloutput").value = decodeURIComponent(document.querySelector("#urlinput").value);
        }
    }
    function liveModeOff() {
    	document.querySelector("#urlinput").onkeyup = function() {}
        document.querySelector("#urlinput").onkeydown = function() {}
    }
    document.addEventListener('DOMContentLoaded', function () {
      var checkbox = document.querySelector('input[type="checkbox"]');
      checkbox.addEventListener('change', function () {
        if (checkbox.checked) {
          liveModeOn();
        } else {
          liveModeOff();
        }
      });
    });
    document.querySelector("#copy").onclick = function() {
      	var copyText = document.querySelector("#urloutput");
      	copyText.select();
      	copyText.setSelectionRange(0, document.querySelector("#urloutput").value.length);
      	document.execCommand("copy");
    }
  </script>
</body>
</html>
